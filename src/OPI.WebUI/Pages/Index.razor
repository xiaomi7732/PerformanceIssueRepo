@page "/"
<h1>Open Performance Issue Registry (DRAFT)</h1>

@if (RegisteredItems.Any())
{
    @foreach (PerfIssueRegisterEntry entry in RegisteredItems)
    {
        <div class='card'>
            <div class="issue-item">
                <div class='issue-item-title'>
                    Issue #
                </div>
                <div>
                    @entry.IssueId
                </div>
            </div>

            <div class="issue-item">
                <div class='issue-item-title'>Is Active</div>
                <div>@entry.IsActive</div>
                <button id='activate-toggle-button' @onclick="() => ToggleActivateAsync(entry.IssueId)">Press to change</button>
            </div>

            <div class="issue-item">
                <div class='issue-item-title'>Title</div>
                <div>@entry.Title</div>
            </div>

            <div class="issue-item">
                <div class='issue-item-title'>Description</div>
                <div>@entry.Description</div>
            </div>

            <div class="issue-item">
                <div class='issue-item-title'>Recommendation</div>
                <div>@entry.Recommendation</div>
            </div>

            <div class="issue-item">
                <div class='issue-item-title'>Rationale</div>
                <div>@entry.Rationale</div>
            </div>

            <div class="issue-item">
                <div class='issue-item-title'>HelpLink</div>
                @if (entry.DocURL is not null)
                {
                    <div><a href="@entry.DocURL" target="_blank">@entry.DocURL</a></div>
                }
                else
                {
                    <div>Not available.</div>
                }
            </div>
            <IssueTypeEditor
                IssueId="@entry.IssueId"
                Title='@("Register types for issue "+ entry.IssueId)'
                AllCodeTypes="@AllIssueTypes"
                RegisteredTypes="@entry.SupportedTypes"
                RegisteredTypesChanged="RegisteredTypeChanged" />
        </div>
    }
}
else
{
    <div>No registred entry.</div>
}
